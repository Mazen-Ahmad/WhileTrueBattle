{
  "contestId": 1792,
  "index": "D",
  "name": "Fixed Prefix Permutations",
  "rating": 1700,
  "tags": [
    "implementation"
  ],
  "statement": "You are given $$$n$$$ permutations $$$a_1, a_2, \\dots, a_n$$$, each of length $$$m$$$. Recall that a permutation of length $$$m$$$ is a sequence of $$$m$$$ distinct integers from $$$1$$$ to $$$m$$$. Let the beauty of a permutation $$$p_1, p_2, \\dots, p_m$$$ be the largest $$$k$$$ such that $$$p_1 = 1, p_2 = 2, \\dots, p_k = k$$$. If $$$p_1 \\neq 1$$$, then the beauty is $$$0$$$. The product of two permutations $$$p \\cdot q$$$ is a permutation $$$r$$$ such that $$$r_j = q_{p_j}$$$. For each $$$i$$$ from $$$1$$$ to $$$n$$$, print the largest beauty of a permutation $$$a_i \\cdot a_j$$$ over all $$$j$$$ from $$$1$$$ to $$$n$$$ (possibly, $$$i = j$$$).",
  "inputFormat": "The first line contains a single integer $$$t$$$ ($$$1 \\le t \\le 10^4$$$) — the number of testcases. The first line of each testcase contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\le n \\le 5 \\cdot 10^4$$$; $$$1 \\le m \\le 10$$$) — the number of permutations and the length of each permutation. The $$$i$$$-th of the next $$$n$$$ lines contains a permutation $$$a_i$$$ — $$$m$$$ distinct integers from $$$1$$$ to $$$m$$$. The sum of $$$n$$$ doesn't exceed $$$5 \\cdot 10^4$$$ over all testcases.",
  "outputFormat": "For each testcase, print $$$n$$$ integers. The $$$i$$$-th value should be equal to the largest beauty of a permutation $$$a_i \\cdot a_j$$$ over all $$$j$$$ ($$$1 \\le j \\le n$$$).",
  "sampleTests": [
    {
      "input": "3\n3 4\n2 4 1 3\n1 2 4 3\n2 1 3 4\n2 2\n1 2\n2 1\n8 10\n3 4 9 6 10 2 7 8 1 5\n3 9 1 8 5 7 4 10 2 6\n3 10 1 7 5 9 6 4 2 8\n1 2 3 4 8 6 10 7 9 5\n1 2 3 4 10 6 8 5 7 9\n9 6 1 2 10 4 7 8 3 5\n7 9 3 2 5 6 4 8 1 10\n9 4 3 7 5 6 1 10 8 2",
      "output": "1 4 4 \n2 2 \n10 8 1 6 8 10 1 7"
    }
  ],
  "timeLimit": 2000,
  "memoryLimit": 256,
  "sourceUrl": "https://codeforces.com/problemset/problem/1792/D",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}