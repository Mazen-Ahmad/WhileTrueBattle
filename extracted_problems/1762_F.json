{
  "contestId": 1762,
  "index": "F",
  "name": "Good Pairs",
  "rating": 2600,
  "tags": [
    "implementation"
  ],
  "statement": "You are given an array $$$a$$$ consisting of $$$n$$$ integers and an integer $$$k$$$. A pair $$$(l,r)$$$ is good if there exists a sequence of indices $$$i_1, i_2, \\dots, i_m$$$ such that $$$i_1=l$$$ and $$$i_m=r$$$; $$$i_j < i_{j+1}$$$ for all $$$1 \\leq j < m$$$; and $$$|a_{i_j}-a_{i_{j+1}}| \\leq k$$$ for all $$$1 \\leq j < m$$$. Find the number of pairs $$$(l,r)$$$ ($$$1 \\leq l \\leq r \\leq n$$$) that are good .",
  "inputFormat": "Each test contains multiple test cases. The first line contains a single integer $$$t$$$ ($$$1 \\leq t \\leq 10^5$$$) — the number of test cases. The description of the test cases follows. The first line of each test case contains two space-separated integers $$$n$$$ and $$$k$$$ ($$$1 \\leq n \\leq 5 \\cdot 10^5$$$; $$$0 \\leq k \\leq 10^5$$$) — the length of the array $$$a$$$ and the integer $$$k$$$. The second line of each test case contains $$$n$$$ space-separated integers $$$a_1,a_2,\\ldots,a_n$$$ ($$$1 \\leq a_i \\leq 10^5$$$) — representing the array $$$a$$$. It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$5 \\cdot 10^5$$$.",
  "outputFormat": "For each test case, print the number of good pairs.",
  "sampleTests": [
    {
      "input": "4\n3 0\n1 1 1\n4 2\n4 8 6 8\n6 4\n7 2 5 8 3 8\n20 23\n110 57 98 14 20 1 60 82 108 37 82 73 8 46 38 35 106 115 58 112",
      "output": "6\n9\n18\n92"
    }
  ],
  "timeLimit": 3000,
  "memoryLimit": 256,
  "sourceUrl": "https://codeforces.com/problemset/problem/1762/F",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}