{
  "contestId": 2112,
  "index": "D",
  "name": "Reachability and Tree",
  "rating": 1700,
  "tags": [
    "implementation"
  ],
  "statement": "Let $$$u$$$ and $$$v$$$ be two distinct vertices in a directed graph. Let's call the ordered pair $$$(u, v)$$$ good if there exists a path from vertex $$$u$$$ to vertex $$$v$$$ along the edges of the graph. You are given an undirected tree with $$$n$$$ vertices and $$$n - 1$$$ edges. Determine whether it is possible to assign a direction to each edge of this tree so that the number of good pairs in it is exactly $$$n$$$. If it is possible, print any way to direct the edges resulting in exactly $$$n$$$ good pairs. One possible directed version of the tree for the first test case.",
  "inputFormat": "The first line contains one integer $$$t$$$ ($$$1 \\le t \\le 10^4$$$) — the number of test cases. The first line of each test case contains one integer $$$n$$$ ($$$2 \\le n \\le 2 \\cdot 10^5$$$) — the number of vertices in the tree. The next $$$n - 1$$$ lines describe the edges. The $$$i$$$-th line contains two integers $$$u_i$$$ and $$$v_i$$$ ($$$1 \\le u_i, v_i \\le n$$$; $$$u_i \\neq v_i$$$) — the vertices connected by the $$$i$$$-th edge. It is guaranteed that the edges in each test case form an undirected tree and that the sum of $$$n$$$ over all test cases does not exceed $$$2 \\cdot 10^5$$$.",
  "outputFormat": "For each test case, print \" NO \" (case-insensitive) if it is impossible to direct all edges of the tree and obtain exactly $$$n$$$ good pairs of vertices. Otherwise, print \" YES \" (case-insensitive) and then print $$$n - 1$$$ pairs of integers $$$u_i$$$ and $$$v_i$$$ separated by spaces — the edges directed from $$$u_i$$$ to $$$v_i$$$. The edges can be printed in any order. If there are multiple answers, output any.",
  "sampleTests": [
    {
      "input": "4\n5\n1 2\n2 4\n1 3\n3 5\n5\n1 2\n1 3\n1 4\n4 5\n2\n2 1\n4\n3 1\n1 2\n2 4",
      "output": "YES\n1 2\n3 1\n3 5\n4 2\nYES\n2 1\n3 1\n4 1\n5 4\nNO\nYES\n1 3\n2 1\n2 4"
    }
  ],
  "timeLimit": 2000,
  "memoryLimit": 256,
  "sourceUrl": "https://codeforces.com/problemset/problem/2112/D",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}