{
  "contestId": 1893,
  "index": "C",
  "name": "Freedom of Choice",
  "rating": 2000,
  "tags": [
    "implementation"
  ],
  "statement": "Let's define the anti-beauty of a multiset $$$\\{b_1, b_2, \\ldots, b_{len}\\}$$$ as the number of occurrences of the number $$$len$$$ in the multiset. You are given $$$m$$$ multisets, where the $$$i$$$-th multiset contains $$$n_i$$$ distinct elements, specifically: $$$c_{i, 1}$$$ copies of the number $$$a_{i,1}$$$, $$$c_{i, 2}$$$ copies of the number $$$a_{i,2}, \\ldots, c_{i, n_i}$$$ copies of the number $$$a_{i, n_i}$$$. It is guaranteed that $$$a_{i, 1} < a_{i, 2} < \\ldots < a_{i, n_i}$$$. You are also given numbers $$$l_1, l_2, \\ldots, l_m$$$ and $$$r_1, r_2, \\ldots, r_m$$$ such that $$$1 \\le l_i \\le r_i \\le c_{i, 1} + \\ldots + c_{i, n_i}$$$. Let's create a multiset $$$X$$$, initially empty. Then, for each $$$i$$$ from $$$1$$$ to $$$m$$$, you must perform the following action exactly once : Choose some $$$v_i$$$ such that $$$l_i \\le v_i \\le r_i$$$ Choose any $$$v_i$$$ numbers from the $$$i$$$-th multiset and add them to the multiset $$$X$$$. You need to choose $$$v_1, \\ldots, v_m$$$ and the added numbers in such a way that the resulting multiset $$$X$$$ has the minimum possible anti-beauty.",
  "inputFormat": "Each test consists of multiple test cases. The first line contains a single integer $$$t$$$ ($$$1 \\le t \\le 10^4$$$) — the number of test cases. The description of the test cases follows. The first line of each test case contains a single integer $$$m$$$ ($$$1 \\le m \\le 10^5$$$) — the number of given multisets. Then, for each $$$i$$$ from $$$1$$$ to $$$m$$$, a data block consisting of three lines is entered. The first line of each block contains three integers $$$n_i, l_i, r_i$$$ ($$$1 \\le n_i \\le 10^5, 1 \\le l_i \\le r_i \\le c_{i, 1} + \\ldots + c_{i, n_i} \\le 10^{17}$$$) — the number of distinct numbers in the $$$i$$$-th multiset and the limits on the number of elements to be added to $$$X$$$ from the $$$i$$$-th multiset. The second line of the block contains $$$n_i$$$ integers $$$a_{i, 1}, \\ldots, a_{i, n_i}$$$ ($$$1 \\le a_{i, 1} < \\ldots < a_{i, n_i} \\le 10^{17}$$$) — the distinct elements of the $$$i$$$-th multiset. The third line of the block contains $$$n_i$$$ integers $$$c_{i, 1}, \\ldots, c_{i, n_i}$$$ ($$$1 \\le c_{i, j} \\le 10^{12}$$$) — the number of copies of the elements in the $$$i$$$-th multiset. It is guaranteed that the sum of the values of $$$m$$$ for all test cases does not exceed $$$10^5$$$, and also the sum of $$$n_i$$$ for all blocks of all test cases does not exceed $$$10^5$$$.",
  "outputFormat": "For each test case, output the minimum possible anti-beauty of the multiset $$$X$$$ that you can achieve.",
  "sampleTests": [
    {
      "input": "7\n3\n3 5 6\n10 11 12\n3 3 1\n1 1 3\n12\n4\n2 4 4\n12 13\n1 5\n1\n7 1000 1006\n1000 1001 1002 1003 1004 1005 1006\n147 145 143 143 143 143 142\n1\n2 48 50\n48 50\n25 25\n2\n1 1 1\n1\n1\n1 1 1\n2\n1\n1\n1 1 1\n1\n2\n2\n1 1 1\n1\n1\n2 1 1\n1 2\n1 1\n2\n4 8 10\n11 12 13 14\n3 3 3 3\n2 3 4\n11 12\n2 2",
      "output": "1\n139\n0\n1\n1\n0\n0"
    }
  ],
  "timeLimit": 3000,
  "memoryLimit": 512,
  "sourceUrl": "https://codeforces.com/problemset/problem/1893/C",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}