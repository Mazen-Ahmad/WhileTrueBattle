{
  "contestId": 1482,
  "index": "F",
  "name": "Useful Edges",
  "rating": 2400,
  "tags": [
    "implementation"
  ],
  "statement": "You are given a weighted undirected graph on $$$n$$$ vertices along with $$$q$$$ triples $$$(u, v, l)$$$, where in each triple $$$u$$$ and $$$v$$$ are vertices and $$$l$$$ is a positive integer. An edge $$$e$$$ is called useful if there is at least one triple $$$(u, v, l)$$$ and a path (not necessarily simple) with the following properties: $$$u$$$ and $$$v$$$ are the endpoints of this path, $$$e$$$ is one of the edges of this path, the sum of weights of all edges on this path doesn't exceed $$$l$$$. Please print the number of useful edges in this graph.",
  "inputFormat": "The first line contains two integers $$$n$$$ and $$$m$$$ ($$$2\\leq n\\leq 600$$$, $$$0\\leq m\\leq \\frac{n(n-1)}2$$$). Each of the following $$$m$$$ lines contains three integers $$$u$$$, $$$v$$$ and $$$w$$$ ($$$1\\leq u, v\\leq n$$$, $$$u\\neq v$$$, $$$1\\leq w\\leq 10^9$$$), denoting an edge connecting vertices $$$u$$$ and $$$v$$$ and having a weight $$$w$$$. The following line contains the only integer $$$q$$$ ($$$1\\leq q\\leq \\frac{n(n-1)}2$$$) denoting the number of triples. Each of the following $$$q$$$ lines contains three integers $$$u$$$, $$$v$$$ and $$$l$$$ ($$$1\\leq u, v\\leq n$$$, $$$u\\neq v$$$, $$$1\\leq l\\leq 10^9$$$) denoting a triple $$$(u, v, l)$$$. It's guaranteed that: the graph doesn't contain loops or multiple edges; all pairs $$$(u, v)$$$ in the triples are also different.",
  "outputFormat": "Print a single integer denoting the number of useful edges in the graph.",
  "sampleTests": [
    {
      "input": "4 6\n1 2 1\n2 3 1\n3 4 1\n1 3 3\n2 4 3\n1 4 5\n1\n1 4 4",
      "output": "5"
    }
  ],
  "timeLimit": 5000,
  "memoryLimit": 512,
  "sourceUrl": "https://codeforces.com/problemset/problem/1482/F",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}