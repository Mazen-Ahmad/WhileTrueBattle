{
  "contestId": 1720,
  "index": "E",
  "name": "Misha and Paintings",
  "rating": 2700,
  "tags": [
    "implementation"
  ],
  "statement": "Misha has a square $$$n \\times n$$$ matrix, where the number in row $$$i$$$ and column $$$j$$$ is equal to $$$a_{i, j}$$$. Misha wants to modify the matrix to contain exactly $$$k$$$ distinct integers. To achieve this goal, Misha can perform the following operation zero or more times: choose any square submatrix of the matrix (you choose $$$(x_1,y_1)$$$, $$$(x_2,y_2)$$$, such that $$$x_1 \\leq x_2$$$, $$$y_1 \\leq y_2$$$, $$$x_2 - x_1 = y_2 - y_1$$$, then submatrix is a set of cells with coordinates $$$(x, y)$$$, such that $$$x_1 \\leq x \\leq x_2$$$, $$$y_1 \\leq y \\leq y_2$$$), choose an integer $$$k$$$, where $$$1 \\leq k \\leq n^2$$$, replace all integers in the submatrix with $$$k$$$. Please find the minimum number of operations that Misha needs to achieve his goal.",
  "inputFormat": "The first input line contains two integers $$$n$$$ and $$$k$$$ ($$$1 \\leq n \\leq 500, 1 \\leq k \\leq n^2$$$) — the size of the matrix and the desired amount of distinct elements in the matrix. Then $$$n$$$ lines follows. The $$$i$$$-th of them contains $$$n$$$ integers $$$a_{i, 1}, a_{i, 2}, \\ldots, a_{i, n}$$$ ($$$1 \\leq a_{i,j} \\leq n^2$$$) — the elements of the $$$i$$$-th row of the matrix.",
  "outputFormat": "Output one integer — the minimum number of operations required.",
  "sampleTests": [
    {
      "input": "3 4\n1 1 1\n1 1 2\n3 4 5",
      "output": "1"
    }
  ],
  "timeLimit": 3500,
  "memoryLimit": 256,
  "sourceUrl": "https://codeforces.com/problemset/problem/1720/E",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}