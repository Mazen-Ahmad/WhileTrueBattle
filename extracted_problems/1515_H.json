{
  "contestId": 1515,
  "index": "H",
  "name": "Phoenix and Bits",
  "rating": 3500,
  "tags": [
    "implementation"
  ],
  "statement": "Phoenix loves playing with bits — specifically, by using the bitwise operations AND , OR , and XOR . He has $$$n$$$ integers $$$a_1, a_2, \\dots, a_n$$$, and will perform $$$q$$$ of the following queries: replace all numbers $$$a_i$$$ where $$$l \\le a_i \\le r$$$ with $$$a_i$$$ AND $$$x$$$; replace all numbers $$$a_i$$$ where $$$l \\le a_i \\le r$$$ with $$$a_i$$$ OR $$$x$$$; replace all numbers $$$a_i$$$ where $$$l \\le a_i \\le r$$$ with $$$a_i$$$ XOR $$$x$$$; output how many distinct integers $$$a_i$$$ where $$$l \\le a_i \\le r$$$. For each query, Phoenix is given $$$l$$$, $$$r$$$, and $$$x$$$. Note that he is considering the values of the numbers, not their indices.",
  "inputFormat": "The first line contains two integers $$$n$$$ and $$$q$$$ ($$$1 \\le n \\le 2 \\cdot 10^5$$$; $$$1 \\le q \\le 10^5$$$) — the number of integers and the number of queries, respectively. The second line contains $$$n$$$ integers $$$a_1, a_2, \\dots, a_n$$$ ($$$0 \\le a_i < 2^{20}$$$) — the integers that Phoenix starts with. The next $$$q$$$ lines contain the queries. For each query, the first integer of each line is $$$t$$$ ($$$1 \\le t \\le 4$$$) — the type of query. If $$$t \\in \\{1, 2, 3\\}$$$, then three integers $$$l_i$$$, $$$r_i$$$, and $$$x_i$$$ will follow ($$$0 \\le l_i, r_i, x_i < 2^{20}$$$; $$$l_i \\le r_i$$$). Otherwise, if $$$t=4$$$, two integers $$$l_i$$$ and $$$r_i$$$ will follow ($$$0 \\le l_i \\le r_i < 2^{20}$$$). It is guaranteed that there is at least one query where $$$t=4$$$.",
  "outputFormat": "Print the answer for each query where $$$t=4$$$.",
  "sampleTests": [
    {
      "input": "5 6\n5 4 3 2 1\n1 2 3 2\n4 2 5\n3 2 5 3\n4 1 6\n2 1 1 8\n4 8 10",
      "output": "3\n2\n1"
    }
  ],
  "timeLimit": 4000,
  "memoryLimit": 512,
  "sourceUrl": "https://codeforces.com/problemset/problem/1515/H",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}