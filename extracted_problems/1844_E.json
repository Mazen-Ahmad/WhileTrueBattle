{
  "contestId": 1844,
  "index": "E",
  "name": "Great Grids",
  "rating": 2400,
  "tags": [
    "implementation"
  ],
  "statement": "An $$$n \\times m$$$ grid of characters is called great if it satisfies these three conditions: Each character is either ' A ', ' B ', or ' C '. Every $$$2 \\times 2$$$ contiguous subgrid contains all three different letters. Any two cells that share a common edge contain different letters. Let $$$(x,y)$$$ denote the cell in the $$$x$$$-th row from the top and $$$y$$$-th column from the left. You want to construct a great grid that satisfies $$$k$$$ constraints. Each constraint consists of two cells, $$$(x_{i,1},y_{i,1})$$$ and $$$(x_{i,2},y_{i,2})$$$, that share exactly one corner. You want your great grid to have the same letter in cells $$$(x_{i,1},y_{i,1})$$$ and $$$(x_{i,2},y_{i,2})$$$. Determine whether there exists a great grid satisfying all the constraints.",
  "inputFormat": "Each test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\le t \\le 10^3$$$). The description of the test cases follows. The first line of each test case contains three integers, $$$n$$$, $$$m$$$, and $$$k$$$ ($$$2 \\le n,m \\le 2 \\cdot 10^3$$$, $$$1 \\le k \\le 4 \\cdot 10^3$$$). Each of the next $$$k$$$ lines contains four integers, $$$x_{i,1}$$$, $$$y_{i,1}$$$, $$$x_{i,2}$$$, and $$$y_{i,2}$$$ ($$$1 \\le x_{i,1} < x_{i,2} \\le n$$$, $$$1 \\le y_{i,1},y_{i,2} \\le m$$$). It is guaranteed that either $$$(x_{i,2},y_{i,2}) = (x_{i,1}+1,y_{i,1}+1)$$$ or $$$(x_{i,2},y_{i,2}) = (x_{i,1}+1,y_{i,1}-1)$$$. The pairs of cells are pairwise distinct, i.e. for all $$$1 \\le i < j \\le k$$$, it is not true that $$$x_{i,1} = x_{j,1}$$$, $$$y_{i,1} = y_{j,1}$$$, $$$x_{i,2} = x_{j,2}$$$, and $$$y_{i,2} = y_{j,2}$$$. It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$2 \\cdot 10^3$$$. It is guaranteed that the sum of $$$m$$$ over all test cases does not exceed $$$2 \\cdot 10^3$$$. It is guaranteed that the sum of $$$k$$$ over all test cases does not exceed $$$4 \\cdot 10^3$$$.",
  "outputFormat": "For each test case, output \" YES \" if a great grid satisfying all the constraints exists and \" NO \" otherwise. You can output the answer in any case (upper or lower). For example, the strings \" yEs \", \" yes \", \" Yes \", and \" YES \" will be recognized as positive responses.",
  "sampleTests": [
    {
      "input": "4\n3 4 4\n1 1 2 2\n2 1 3 2\n1 4 2 3\n2 3 3 2\n2 7 2\n1 1 2 2\n1 2 2 1\n8 5 4\n1 2 2 1\n1 5 2 4\n7 1 8 2\n7 4 8 5\n8 5 4\n1 2 2 1\n1 5 2 4\n7 1 8 2\n7 5 8 4",
      "output": "YES\nNO\nYES\nNO"
    }
  ],
  "timeLimit": 1000,
  "memoryLimit": 256,
  "sourceUrl": "https://codeforces.com/problemset/problem/1844/E",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}