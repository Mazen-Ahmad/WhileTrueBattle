{
  "contestId": 1889,
  "index": "D",
  "name": "Game of Stacks",
  "rating": 3000,
  "tags": [
    "implementation"
  ],
  "statement": "You have $$$n$$$ stacks $$$r_1,r_2,\\ldots,r_n$$$. Each stack contains some positive integers ranging from $$$1$$$ to $$$n$$$. Define the following functions: function init(pos): stacks := an array that contains n stacks r[1], r[2], ..., r[n] return get(stacks, pos) function get(stacks, pos): if stacks[pos] is empty: return pos else: new_pos := the top element of stacks[pos] pop the top element of stacks[pos] return get(stacks, new_pos) You want to know the values returned by $$$\\texttt{init(1)}, \\texttt{init(2)}, \\ldots, \\texttt{init(n)}$$$. Note that, during these calls, the stacks $$$r_1,r_2,\\ldots,r_n$$$ don't change, so the calls $$$\\texttt{init(1)}, \\texttt{init(2)}, \\ldots, \\texttt{init(n)}$$$ are independent.",
  "inputFormat": "The first line of the input contains one integer $$$n$$$ ($$$1\\le n\\le 10^5$$$) â€” the length of the array $$$r$$$. Each of the following $$$n$$$ lines contains several integers. The first integer $$$k_i$$$ ($$$0\\le k_i\\le 10^5$$$) represents the number of elements in the $$$i$$$-th stack, and the following $$$k_i$$$ positive integers $$$c_{i,1},c_{i,2},\\ldots,c_{i,k_i}$$$ ($$$1\\le c_{i,j}\\le n$$$) represent the elements in the $$$i$$$-th stack. $$$c_{i,1}$$$ is the bottom element. In each test, $$$\\sum k_i\\le 10^6$$$.",
  "outputFormat": "You need to output $$$n$$$ values, the $$$i$$$-th of which is the value returned by $$$\\texttt{init(i)}$$$.",
  "sampleTests": [
    {
      "input": "3\n3 1 2 2\n3 3 1 2\n3 1 2 1",
      "output": "1 2 2"
    }
  ],
  "timeLimit": 1000,
  "memoryLimit": 256,
  "sourceUrl": "https://codeforces.com/problemset/problem/1889/D",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}