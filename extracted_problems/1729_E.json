{
  "contestId": 1729,
  "index": "E",
  "name": "Guess the Cycle Size",
  "rating": 1800,
  "tags": [
    "implementation"
  ],
  "statement": "This is an interactive problem . I want to play a game with you... We hid from you a cyclic graph of $$$n$$$ vertices ($$$3 \\le n \\le 10^{18}$$$). A cyclic graph is an undirected graph of $$$n$$$ vertices that form one cycle. Each vertex belongs to the cycle, i.e. the length of the cycle (the number of edges in it) is exactly $$$n$$$. The order of the vertices in the cycle is arbitrary. You can make queries in the following way: \" ? a b \" where $$$1 \\le a, b \\le 10^{18}$$$ and $$$a \\neq b$$$. In response to the query, the interactor outputs on a separate line the length of random of two paths from vertex $$$a$$$ to vertex $$$b$$$, or -1 if $$$\\max(a, b) > n$$$. The interactor chooses one of the two paths with equal probability . The length of the path â€”is the number of edges in it. You win if you guess the number of vertices in the hidden graph (number $$$n$$$) by making no more than $$$50$$$ queries. Note that the interactor is implemented in such a way that for any ordered pair $$$(a, b)$$$, it always returns the same value for query \" ? a b \", no matter how many such queries. Note that the \" ? b a \" query may be answered differently by the interactor. The vertices in the graph are randomly placed, and their positions are fixed in advance. Hacks are forbidden in this problem. The number of tests the jury has is $$$50$$$.",
  "inputFormat": "Input specification not found",
  "outputFormat": "Output specification not found",
  "sampleTests": [
    {
      "input": "1\n\n2\n\n-1",
      "output": "? 1 2\n\n? 1 3\n\n? 1 4\n\n! 3"
    }
  ],
  "timeLimit": 1000,
  "memoryLimit": 256,
  "sourceUrl": "https://codeforces.com/problemset/problem/1729/E",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}