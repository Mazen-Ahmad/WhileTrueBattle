{
  "contestId": 1641,
  "index": "E",
  "name": "Special Positions",
  "rating": 3300,
  "tags": [
    "implementation"
  ],
  "statement": "You are given an array $$$a$$$ of length $$$n$$$. Also you are given $$$m$$$ distinct positions $$$p_1, p_2, \\ldots, p_m$$$ ($$$1 \\leq p_i \\leq n$$$). A non-empty subset of these positions $$$T$$$ is randomly selected with equal probability and the following value is calculated: $$$$$$\\sum_{i=1}^{n} (a_i \\cdot \\min_{j \\in T} \\left|i - j\\right|).$$$$$$ In other word, for each index of the array, $$$a_i$$$ and the distance to the closest chosen position are multiplied, and then these values are summed up. Find the expected value of this sum. This value must be found modulo $$$998\\,244\\,353$$$. More formally, let $$$M = 998\\,244\\,353$$$. It can be shown that the answer can be represented as an irreducible fraction $$$\\frac{p}{q}$$$, where $$$p$$$ and $$$q$$$ are integers and $$$q \\neq 0$$$ (mod $$$M$$$). Output the integer equal to $$$p \\cdot q^{-1}$$$ (mod $$$M$$$). In other words, output such integer $$$x$$$ that $$$0 \\leq x < M$$$ and $$$x \\cdot q = p$$$ (mod $$$M$$$).",
  "inputFormat": "The first line contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\leq m \\leq n \\leq 10^5$$$). The second line contains $$$n$$$ integers $$$a_1, a_2, \\ldots, a_n$$$ ($$$0 \\leq a_i < 998\\,244\\,353$$$). The third line contains $$$m$$$ distinct integers $$$p_1, p_2, \\ldots, p_m$$$ ($$$1 \\leq p_i \\le n$$$). For every $$$1 \\leq i < m$$$ it is guaranteed that $$$p_i < p_{i+1}$$$.",
  "outputFormat": "Print a single integer â€” the answer to the problem.",
  "sampleTests": [
    {
      "input": "4 2\n1 2 3 4\n1 4",
      "output": "665496247"
    }
  ],
  "timeLimit": 5000,
  "memoryLimit": 512,
  "sourceUrl": "https://codeforces.com/problemset/problem/1641/E",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}