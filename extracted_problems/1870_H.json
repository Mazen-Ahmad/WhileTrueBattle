{
  "contestId": 1870,
  "index": "H",
  "name": "Standard Graph Problem",
  "rating": 3500,
  "tags": [
    "implementation"
  ],
  "statement": "You are given a weighted directed graph with $$$n$$$ vertices and $$$m$$$ edges. Each vertex in the graph can be either highlighted or normal. Initially, all vertices are normal. The cost of the graph is defined as the minimum sum of edge weights that need to be selected so that from each normal vertex one can reach at least one highlighted vertex using the selected edges only. If it is not possible to select the edges, the cost is $$$-1$$$ instead. Your task is to compute the cost of the graph after each of the $$$q$$$ queries. The queries can be of two types: $$$+\\;v_i$$$ makes vertex $$$v_i$$$ highlighted; it is guaranteed that the vertex is normal before the query. $$$-\\;v_i$$$ makes vertex $$$v_i$$$ normal; it is guaranteed that the vertex is highlighted before the query. Output the cost of the graph after each of the $$$q$$$ queries.",
  "inputFormat": "The first line contains three integers $$$n$$$, $$$m$$$, and $$$q$$$ ($$$3 \\le n \\le 2 \\cdot 10^5, 1 \\le m, q \\le 2 \\cdot 10^5$$$) — the number of vertices in the graph, the number of edges, and the number of queries. The next $$$m$$$ lines contain the edges of the graph, one edge per line. The $$$i$$$-th line contains three integers $$$u_i$$$, $$$v_i$$$, and $$$c_i$$$ ($$$1 \\leq u_i, v_i \\leq n, u_i \\ne v_i, 1 \\leq c_i \\leq 10^6$$$) — the endpoints of the $$$i$$$-th edge (from $$$u_i$$$ to $$$v_i$$$) and its weight ($$$c_i$$$). The next $$$q$$$ lines contain the queries, one query per line. The $$$i$$$-th line contains $$$+\\;v_i$$$, if it is a query of the first type, and $$$-\\;v_i$$$, if it is a query of the second type ($$$1 \\leq v_i \\leq n$$$).",
  "outputFormat": "Output $$$q$$$ numbers. The $$$i$$$-th number is the cost of the graph after the first $$$i$$$ queries.",
  "sampleTests": [
    {
      "input": "4 5 6\n1 2 1\n2 3 5\n3 2 3\n4 1 8\n2 1 4\n+ 1\n- 1\n+ 3\n+ 1\n+ 4\n+ 2",
      "output": "15\n-1\n14\n12\n4\n0"
    }
  ],
  "timeLimit": 2000,
  "memoryLimit": 512,
  "sourceUrl": "https://codeforces.com/problemset/problem/1870/H",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}