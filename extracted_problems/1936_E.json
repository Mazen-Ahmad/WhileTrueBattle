{
  "contestId": 1936,
  "index": "E",
  "name": "Yet Yet Another Permutation Problem",
  "rating": 3400,
  "tags": [
    "implementation"
  ],
  "statement": "You are given a permutation $$$p$$$ of length $$$n$$$. Please count the number of permutations $$$q$$$ of length $$$n$$$ which satisfy the following: for each $$$1 \\le i < n$$$, $$$\\max(q_1,\\ldots,q_i) \\neq \\max(p_1,\\ldots,p_i)$$$. Since the answer may be large, output the answer modulo $$$998\\,244\\,353$$$.",
  "inputFormat": "Each test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\le t \\le 10^4$$$). The description of the test cases follows. The first line of each test case contains a single integer $$$n$$$ ($$$2 \\le n \\le 2 \\cdot 10^5$$$). The second line of each test case contains $$$n$$$ integers $$$p_1, p_2, \\ldots, p_n$$$ ($$$1 \\le p_i \\le n$$$). It is guaranteed that $$$p$$$ is a permutation. It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$2 \\cdot 10^5$$$.",
  "outputFormat": "For each test case, print a single integer â€” the answer modulo $$$998\\,244\\,353$$$.",
  "sampleTests": [
    {
      "input": "6\n2\n2 1\n3\n1 2 3\n3\n3 1 2\n4\n2 4 1 3\n5\n3 5 1 4 2\n15\n6 13 2 8 7 11 1 3 9 15 4 5 12 10 14",
      "output": "1\n3\n2\n4\n18\n424488915"
    }
  ],
  "timeLimit": 5000,
  "memoryLimit": 1024,
  "sourceUrl": "https://codeforces.com/problemset/problem/1936/E",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}