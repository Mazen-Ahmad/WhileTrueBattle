{
  "contestId": 1580,
  "index": "D",
  "name": "Subsequence",
  "rating": 2900,
  "tags": [
    "implementation"
  ],
  "statement": "Alice has an integer sequence $$$a$$$ of length $$$n$$$ and all elements are different . She will choose a subsequence of $$$a$$$ of length $$$m$$$, and defines the value of a subsequence $$$a_{b_1},a_{b_2},\\ldots,a_{b_m}$$$ as $$$$$$\\sum_{i = 1}^m (m \\cdot a_{b_i}) - \\sum_{i = 1}^m \\sum_{j = 1}^m f(\\min(b_i, b_j), \\max(b_i, b_j)),$$$$$$ where $$$f(i, j)$$$ denotes $$$\\min(a_i, a_{i + 1}, \\ldots, a_j)$$$. Alice wants you to help her to maximize the value of the subsequence she choose. A sequence $$$s$$$ is a subsequence of a sequence $$$t$$$ if $$$s$$$ can be obtained from $$$t$$$ by deletion of several (possibly, zero or all) elements.",
  "inputFormat": "The first line contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\le m \\le n \\le 4000$$$). The second line contains $$$n$$$ distinct integers $$$a_1, a_2, \\ldots, a_n$$$ ($$$1 \\le a_i < 2^{31}$$$).",
  "outputFormat": "Print the maximal value Alice can get.",
  "sampleTests": [
    {
      "input": "6 4\n15 2 18 12 13 4",
      "output": "100"
    }
  ],
  "timeLimit": 1000,
  "memoryLimit": 256,
  "sourceUrl": "https://codeforces.com/problemset/problem/1580/D",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}