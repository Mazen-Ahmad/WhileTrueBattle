{
  "contestId": 1930,
  "index": "H",
  "name": "Interactive Mex Tree",
  "rating": 3300,
  "tags": [
    "implementation"
  ],
  "statement": "This is an interactive problem. Alice has a tree $$$T$$$ consisting of $$$n$$$ nodes, numbered from $$$1$$$ to $$$n$$$. Alice will show $$$T$$$ to Bob. After observing $$$T$$$, Bob needs to tell Alice two permutations $$$p_1$$$ and $$$p_2$$$ of $$$[1, 2, \\ldots, n]$$$. Then, Alice will play $$$q$$$ rounds of the following game. Alice will create an array $$$a$$$ that is a permutation of $$$[0,1,\\ldots,n-1]$$$. The value of node $$$v$$$ will be $$$a_v$$$. Alice will choose two nodes $$$u$$$ and $$$v$$$ ($$$1 \\leq u, v \\leq n$$$, $$$u \\neq v$$$) of $$$T$$$ and tell them to Bob. Bob will need to find the $$$\\operatorname{MEX}^\\dagger$$$ of the values on the unique simple path between nodes $$$u$$$ and $$$v$$$. To find this value, Bob can ask Alice at most $$$5$$$ queries. In each query, Bob should give three integers $$$t$$$, $$$l$$$ and $$$r$$$ to Alice such that $$$t$$$ is either $$$1$$$ or $$$2$$$, and $$$1 \\leq l \\leq r \\leq n$$$. Alice will then tell Bob the value equal to $$$$$$\\min_{i=l}^{r} a[p_{t,i}].$$$$$$ Note that all rounds are independent of each other. In particular, the values of $$$a$$$, $$$u$$$ and $$$v$$$ can be different in different rounds. Bob is puzzled as he only knows the HLD solution, which requires $$$O(\\log(n))$$$ queries per round. So he needs your help to win the game. $$$^\\dagger$$$ The $$$\\operatorname{MEX}$$$ (minimum excludant) of a collection of integers $$$c_1, c_2, \\ldots, c_k$$$ is defined as the smallest non-negative integer $$$x$$$ which does not occur in the collection $$$c$$$.",
  "inputFormat": "Input specification not found",
  "outputFormat": "Output specification not found",
  "sampleTests": [
    {
      "input": "1\n3 1\n1 2\n2 3\n\n\n2 3\n\n1\n\n0\n\n1",
      "output": "1 2 3\n2 1 3\n\n? 1 2 3\n\n? 2 1 3\n\n! 0"
    }
  ],
  "timeLimit": 5000,
  "memoryLimit": 256,
  "sourceUrl": "https://codeforces.com/problemset/problem/1930/H",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}