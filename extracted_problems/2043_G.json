{
  "contestId": 2043,
  "index": "G",
  "name": "Problem with Queries",
  "rating": 3000,
  "tags": [
    "implementation"
  ],
  "statement": "You are given an array $$$a$$$, consisting of $$$n$$$ integers. Your task is to process $$$q$$$ queries of two types: $$$1~p~x$$$ — set the value of the element at index $$$p$$$ equal to $$$x$$$; $$$2~l~r$$$ — count the number of pairs of indices $$$(i, j)$$$ such that $$$l \\le i < j \\le r$$$ and $$$a_i \\ne a_j$$$. Note that the queries in this task are encoded ; each subsequent query can only be decoded after calculating the answer to the preceding query of the second type.",
  "inputFormat": "The first line contains a single integer $$$n$$$ ($$$1 \\le n \\le 10^5$$$). The second line contains $$$n$$$ integers $$$a_1, a_2, \\dots, a_n$$$ ($$$1 \\le a_i \\le n$$$). The third line contains a single integer $$$q$$$ ($$$1 \\le q \\le 3 \\cdot 10^5$$$) — the number of queries. The next $$$q$$$ lines describe the queries in one of the following formats: $$$1~p'~x'$$$ ($$$0 \\le p', x' \\le n-1$$$); $$$2~l'~r'$$$ ($$$0 \\le l', r' \\le n-1$$$). The queries are encoded as follows: let $$$\\mathit{last}$$$ be the answer to the latest processed query of the second type (initially, $$$\\mathit{last} = 0$$$). if the type of the query is $$$1$$$, then $$$p = ((p' + \\mathit{last}) \\bmod n) + 1$$$, $$$x = ((x' + \\mathit{last}) \\bmod n) + 1$$$. if the type of the query is $$$2$$$, $$$l = ((l' + \\mathit{last}) \\bmod n) + 1$$$, $$$r = ((r' + \\mathit{last}) \\bmod n) + 1$$$. If $$$l > r$$$, swap their values. Don't forget to update the value of $$$\\mathit{last}$$$ after answering each query of the second type. Additional constraint on the input: there is at least one query of the second type.",
  "outputFormat": "For each query of the second type, print the answer — the number of pairs of indices $$$(i, j)$$$ such that $$$l \\le i < j \\le r$$$ and $$$a_i \\ne a_j$$$.",
  "sampleTests": [
    {
      "input": "3\n1 2 3\n5\n2 0 2\n1 0 2\n2 0 2\n1 2 0\n2 1 0",
      "output": "3 2 0"
    }
  ],
  "timeLimit": 8000,
  "memoryLimit": 1024,
  "sourceUrl": "https://codeforces.com/problemset/problem/2043/G",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}