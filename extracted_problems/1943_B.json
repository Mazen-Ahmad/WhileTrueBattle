{
  "contestId": 1943,
  "index": "B",
  "name": "Non-Palindromic Substring",
  "rating": 2000,
  "tags": [
    "implementation"
  ],
  "statement": "A string $$$t$$$ is said to be $$$k$$$-good if there exists at least one substring$$$^\\dagger$$$ of length $$$k$$$ which is not a palindrome$$$^\\ddagger$$$. Let $$$f(t)$$$ denote the sum of all values of $$$k$$$ such that the string $$$t$$$ is $$$k$$$-good. You are given a string $$$s$$$ of length $$$n$$$. You will have to answer $$$q$$$ of the following queries: Given $$$l$$$ and $$$r$$$ ($$$l < r$$$), find the value of $$$f(s_ls_{l + 1}\\ldots s_r)$$$. $$$^\\dagger$$$ A substring of a string $$$z$$$ is a contiguous segment of characters from $$$z$$$. For example, \"$$$\\mathtt{defor}$$$\", \"$$$\\mathtt{code}$$$\" and \"$$$\\mathtt{o}$$$\" are all substrings of \"$$$\\mathtt{codeforces}$$$\" while \"$$$\\mathtt{codes}$$$\" and \"$$$\\mathtt{aaa}$$$\" are not. $$$^\\ddagger$$$ A palindrome is a string that reads the same backwards as forwards. For example, the strings \"$$$\\texttt{z}$$$\", \"$$$\\texttt{aa}$$$\" and \"$$$\\texttt{tacocat}$$$\" are palindromes while \"$$$\\texttt{codeforces}$$$\" and \"$$$\\texttt{ab}$$$\" are not.",
  "inputFormat": "Each test contains multiple test cases. The first line contains a single integer $$$t$$$ ($$$1 \\leq t \\leq 2 \\cdot 10^4$$$) â€” the number of test cases. The description of the test cases follows. The first line of each test case contains two integers $$$n$$$ and $$$q$$$ ($$$2 \\le n \\le 2 \\cdot 10^5, 1 \\le q \\le 2 \\cdot 10^5$$$), the size of the string and the number of queries respectively. The second line of each test case contains the string $$$s$$$. It is guaranteed the string $$$s$$$ only contains lowercase English characters. The next $$$q$$$ lines each contain two integers, $$$l$$$ and $$$r$$$ ($$$1 \\le l < r \\le n$$$). It is guaranteed the sum of $$$n$$$ and the sum of $$$q$$$ both do not exceed $$$2 \\cdot 10^5$$$.",
  "outputFormat": "For each query, output $$$f(s_ls_{l + 1}\\ldots s_r)$$$.",
  "sampleTests": [
    {
      "input": "5\n4 4\naaab\n1 4\n1 3\n3 4\n2 4\n3 2\nabc\n1 3\n1 2\n5 4\npqpcc\n1 5\n4 5\n1 3\n2 4\n2 1\naa\n1 2\n12 1\nsteponnopets\n1 12",
      "output": "9\n0\n2\n5\n5\n2\n14\n0\n2\n5\n0\n65"
    }
  ],
  "timeLimit": 3000,
  "memoryLimit": 256,
  "sourceUrl": "https://codeforces.com/problemset/problem/1943/B",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}