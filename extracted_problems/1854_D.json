{
  "contestId": 1854,
  "index": "D",
  "name": "Michael and Hotel",
  "rating": 3000,
  "tags": [
    "implementation"
  ],
  "statement": "Michael and Brian are stuck in a hotel with $$$n$$$ rooms, numbered from $$$1$$$ to $$$n$$$, and need to find each other. But this hotel's doors are all locked and the only way of getting around is by using the teleporters in each room. Room $$$i$$$ has a teleporter that will take you to room $$$a_i$$$ (it might be that $$$a_i = i$$$). But they don't know the values of $$$a_1,a_2, \\dots, a_n$$$. Instead, they can call up the front desk to ask queries. In one query, they give a room $$$u$$$, a positive integer $$$k$$$, and a set of rooms $$$S$$$. The hotel concierge answers whether a person starting in room $$$u$$$, and using the teleporters $$$k$$$ times, ends up in a room in $$$S$$$. Brian is in room $$$1$$$. Michael wants to know the set $$$A$$$ of rooms so that if he starts in one of those rooms they can use the teleporters to meet up. He can ask at most $$$2000$$$ queries. The values $$$a_1, a_2, \\dots, a_n$$$ are fixed before the start of the interaction and do not depend on your queries. In other words, the interactor is not adaptive.",
  "inputFormat": "The input contains a single integer $$$n$$$ ($$$2 \\leq n \\leq 500$$$).",
  "outputFormat": "Output specification not found",
  "sampleTests": [
    {
      "input": "5\n\n0\n\n1",
      "output": "? 3 5 2 2 3\n\n? 2 5 2 2 3\n\n! 3 1 3 4"
    }
  ],
  "timeLimit": 2000,
  "memoryLimit": 256,
  "sourceUrl": "https://codeforces.com/problemset/problem/1854/D",
  "verified": true,
  "qualityScore": 4.0,
  "source": "codeforces-scraped"
}